import{_ as s,o as a,c as n,a as l}from"./app.4684b012.js";const C=JSON.parse('{"title":"Mysql","description":"","frontmatter":{},"headers":[{"level":2,"title":"安装","slug":"安装","link":"#安装","children":[]},{"level":2,"title":"SQL 命令","slug":"sql-命令","link":"#sql-命令","children":[]},{"level":2,"title":"登录","slug":"登录","link":"#登录","children":[]},{"level":2,"title":"错误日志","slug":"错误日志","link":"#错误日志","children":[]},{"level":2,"title":"创建数据库","slug":"创建数据库","link":"#创建数据库","children":[]},{"level":2,"title":"操作数据表","slug":"操作数据表","link":"#操作数据表","children":[]}],"relativePath":"docs/server/2.md"}'),p={name:"docs/server/2.md"},o=l(`<h1 id="mysql" tabindex="-1">Mysql <a class="header-anchor" href="#mysql" aria-hidden="true">#</a></h1><h2 id="安装" tabindex="-1">安装 <a class="header-anchor" href="#安装" aria-hidden="true">#</a></h2><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">apt</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">update</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 安装</span></span>
<span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">apt</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">install</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">mysql-server</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 启动 mysql 服务</span></span>
<span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">systemctl</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">start</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">mysql</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 设置 MySQL 服务在系统启动时自动启动</span></span>
<span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">systemctl</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">enable</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">mysql</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 使用用户为 root 的账号密码登陆</span></span>
<span class="line"><span style="color:#FFCB6B;">mysql</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-u</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">root</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-p</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 检查 MySQL 服务状态</span></span>
<span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">systemctl</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">status</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">mysql</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 退出 mysql shell</span></span>
<span class="line"><span style="color:#FFCB6B;">quit</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 查看MySQL服务的状态</span></span>
<span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">service</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">mysql</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">status</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 启动 mysql</span></span>
<span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">service</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">mysql</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">start</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 停止 mysql</span></span>
<span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">service</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">mysql</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">stop</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 查看MySQL错误日志</span></span>
<span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">less</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">/var/log/mysql/error.log</span></span>
<span class="line"></span></code></pre></div><h2 id="sql-命令" tabindex="-1">SQL 命令 <a class="header-anchor" href="#sql-命令" aria-hidden="true">#</a></h2><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;">-- 查看有那些表</span></span>
<span class="line"><span style="color:#BABED8;">SHOW TABLES;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">-- 查看有那些数据库</span></span>
<span class="line"><span style="color:#BABED8;">SHOW DATABASES;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">-- 创建数据库</span></span>
<span class="line"><span style="color:#F78C6C;">CREATE</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">DATABASE</span><span style="color:#BABED8;"> \`</span><span style="color:#82AAFF;">数据库名</span><span style="color:#BABED8;">\`;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">-- 如果没有就创建，否则就什么都不做</span></span>
<span class="line"><span style="color:#F78C6C;">CREATE</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">DATABASE</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">IF</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">NOT</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">EXISTS</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">数据库名</span><span style="color:#89DDFF;">\`</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">-- 切换到指定的数据库</span></span>
<span class="line"><span style="color:#F78C6C;">USE</span><span style="color:#BABED8;"> 数据库名;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">-- 运行指定 sql 文件</span></span>
<span class="line"><span style="color:#BABED8;">source </span><span style="color:#89DDFF;">/</span><span style="color:#BABED8;">xxxx</span><span style="color:#89DDFF;">/</span><span style="color:#BABED8;">xxxx</span><span style="color:#89DDFF;">/</span><span style="color:#BABED8;">xxxx.sql</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">-- 查看表的数据</span></span>
<span class="line"><span style="color:#F78C6C;">select</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">*</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">from</span><span style="color:#BABED8;"> 表名;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">-- 查看所有用户</span></span>
<span class="line"><span style="color:#F78C6C;">SELECT</span><span style="color:#BABED8;"> User </span><span style="color:#F78C6C;">FROM</span><span style="color:#BABED8;"> mysql.user;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">-- 将 abd 数据库名称修改为 def</span></span>
<span class="line"><span style="color:#BABED8;">RENAME </span><span style="color:#F78C6C;">DATABASE</span><span style="color:#BABED8;"> abc </span><span style="color:#F78C6C;">TO</span><span style="color:#BABED8;"> def;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">-- 删除数据库</span></span>
<span class="line"><span style="color:#F78C6C;">DROP</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">DATABASE</span><span style="color:#BABED8;"> xxx;</span></span>
<span class="line"></span></code></pre></div><h2 id="登录" tabindex="-1">登录 <a class="header-anchor" href="#登录" aria-hidden="true">#</a></h2><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">mysql</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-u</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">root</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-p</span></span>
<span class="line"></span></code></pre></div><h2 id="错误日志" tabindex="-1">错误日志 <a class="header-anchor" href="#错误日志" aria-hidden="true">#</a></h2><ul><li>服务器连接 mysql 失败</li></ul><p>错误日志：<code>Error: Access denied for user &#39;root&#39;@&#39;localhost&#39;</code>，解决方案：<a href="https://stackoverflow.com/questions/41645309/mysql-error-access-denied-for-user-rootlocalhost" target="_blank" rel="noreferrer">MySQL Error: : &#39;Access denied for user &#39;root&#39;@&#39;localhost&#39;</a></p><h2 id="创建数据库" tabindex="-1">创建数据库 <a class="header-anchor" href="#创建数据库" aria-hidden="true">#</a></h2><p>创建一个指定字符集的数据库</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#F78C6C;">CREATE</span><span style="color:#BABED8;"> DATABASES </span><span style="color:#F78C6C;">IF</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">NOT</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">EXISTS</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">数据库名</span><span style="color:#89DDFF;">\`</span></span>
<span class="line"><span style="color:#C792EA;">DEFAULT</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">CHARACTER</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">SET</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">utf8mb4</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">;</span></span>
<span class="line"></span></code></pre></div><h2 id="操作数据表" tabindex="-1">操作数据表 <a class="header-anchor" href="#操作数据表" aria-hidden="true">#</a></h2><p>创建表</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;">-- NOT NULL 不能为空</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">-- AUTO_INCREMENT 自增列</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">-- PRIMARY KEY 设置为主键</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">-- DEFAULT CURRENT_TIMESTAMP 字段创建时间</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">-- 名称 类型 属性</span></span>
<span class="line"><span style="color:#F78C6C;">CREATE</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">TABLE</span><span style="color:#BABED8;"> \`</span><span style="color:#82AAFF;">表名</span><span style="color:#BABED8;">\` (</span></span>
<span class="line"><span style="color:#BABED8;">  id </span><span style="color:#C792EA;">int</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">NOT NULL</span><span style="color:#BABED8;"> AUTO_INCREMENT </span><span style="color:#C792EA;">PRIMARY KEY</span><span style="color:#BABED8;"> COMMENT </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">ID</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F78C6C;">name</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">varchar</span><span style="color:#BABED8;">(</span><span style="color:#F78C6C;">100</span><span style="color:#BABED8;">) COMMENT </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">名字</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">,</span></span>
<span class="line"><span style="color:#BABED8;">  age </span><span style="color:#C792EA;">int</span><span style="color:#BABED8;"> COMMENT </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">年龄</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F78C6C;">address</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">varchar</span><span style="color:#BABED8;">(</span><span style="color:#F78C6C;">100</span><span style="color:#BABED8;">),</span></span>
<span class="line"><span style="color:#BABED8;">  create_at </span><span style="color:#C792EA;">timestamp</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">DEFAULT</span><span style="color:#BABED8;"> CURRENT_TIMESTAMP</span></span>
<span class="line"><span style="color:#BABED8;">)</span></span>
<span class="line"></span></code></pre></div><p>更新表名</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#F78C6C;">ALTER</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">TABLE</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">表名称</span><span style="color:#89DDFF;">\`</span><span style="color:#BABED8;"> RENAME </span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">新表名</span><span style="color:#89DDFF;">\`</span></span>
<span class="line"></span></code></pre></div><p>给表添加新的字段</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#F78C6C;">ALTER</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">TABLE</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">表名称</span><span style="color:#89DDFF;">\`</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">ADD</span><span style="color:#BABED8;"> COLUMU </span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">key</span><span style="color:#89DDFF;">\`</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">varchar</span><span style="color:#BABED8;">(</span><span style="color:#F78C6C;">255</span><span style="color:#BABED8;">)</span></span>
<span class="line"><span style="color:#89DDFF;">\`\`\`</span><span style="color:#C3E88D;">FF</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C3E88D;">删除表的指定列</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">\`\`\`</span><span style="color:#F78C6C;">sql</span></span>
<span class="line"><span style="color:#F78C6C;">ALTER</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">TABLE</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">表名称</span><span style="color:#89DDFF;">\`</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">DROP</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">key</span><span style="color:#89DDFF;">\`</span></span>
<span class="line"></span></code></pre></div><p>更改指定列</p><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#F78C6C;">ALTER</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">TABLE</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">表名称</span><span style="color:#89DDFF;">\`</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">MODIFY</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">key</span><span style="color:#89DDFF;">\`</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">varchar</span><span style="color:#BABED8;">(</span><span style="color:#F78C6C;">100</span><span style="color:#BABED8;">)</span></span>
<span class="line"></span></code></pre></div>`,22),e=[o];function t(c,r,y,i,B,E){return a(),n("div",null,e)}const A=s(p,[["render",t]]);export{C as __pageData,A as default};
