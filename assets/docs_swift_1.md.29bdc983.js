import{_ as s,o as n,c as a,a as l}from"./app.4f3fe047.js";const i=JSON.parse('{"title":"安装编辑器","description":"","frontmatter":{},"headers":[{"level":2,"title":"安装","slug":"安装","link":"#安装","children":[]},{"level":2,"title":"开篇代码","slug":"开篇代码","link":"#开篇代码","children":[]}],"relativePath":"docs/swift/1.md"}'),p={name:"docs/swift/1.md"},o=l(`<h1 id="安装编辑器" tabindex="-1">安装编辑器 <a class="header-anchor" href="#安装编辑器" aria-hidden="true">#</a></h1><h2 id="安装" tabindex="-1">安装 <a class="header-anchor" href="#安装" aria-hidden="true">#</a></h2><p><a href="https://apps.apple.com/us/app/xcode/id497799835?mt=12/" target="_blank" rel="noreferrer">Xcode</a></p><h2 id="开篇代码" tabindex="-1">开篇代码 <a class="header-anchor" href="#开篇代码" aria-hidden="true">#</a></h2><div class="language-swift"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;">//</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//  ContentView.swift</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//  swift-app</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//  Created by 128 on 2024/1/27.</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">//</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">SwiftUI</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">SwiftData</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">struct</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">ContentView</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">View </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Environment</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">\\.modelContext</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">private</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">var</span><span style="color:#BABED8;"> modelContext</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Query</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">private</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">var</span><span style="color:#BABED8;"> items: </span><span style="color:#89DDFF;">[</span><span style="color:#BABED8;">Item</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F78C6C;">var</span><span style="color:#BABED8;"> body: </span><span style="color:#F78C6C;">some</span><span style="color:#BABED8;"> View </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#82AAFF;">NavigationSplitView</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">            </span><span style="color:#82AAFF;">List</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">                </span><span style="color:#82AAFF;">ForEach</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">items</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#BABED8;"> item </span><span style="color:#89DDFF;font-style:italic;">in</span></span>
<span class="line"><span style="color:#BABED8;">                    </span><span style="color:#82AAFF;">NavigationLink</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">                        </span><span style="color:#82AAFF;">Text</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Item at </span><span style="color:#89DDFF;">\\(</span><span style="color:#BABED8;">item.timestamp, format</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> Date.</span><span style="color:#82AAFF;">FormatStyle</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">date</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> .numeric, </span><span style="color:#82AAFF;">time</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> .standard</span><span style="color:#89DDFF;">))</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">                    </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">label</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">                        </span><span style="color:#82AAFF;">Text</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">item.timestamp, </span><span style="color:#82AAFF;">format</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> Date.</span><span style="color:#82AAFF;">FormatStyle</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">date</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> .numeric, </span><span style="color:#82AAFF;">time</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> .standard</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#BABED8;">                    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#BABED8;">                </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#BABED8;">                .</span><span style="color:#82AAFF;">onDelete</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">perform</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> deleteItems</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">            </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#BABED8;">            .</span><span style="color:#82AAFF;">toolbar</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">                </span><span style="color:#82AAFF;">ToolbarItem</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">placement</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> .navigationBarTrailing</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">                    </span><span style="color:#82AAFF;">EditButton</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#BABED8;">                </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#BABED8;">                </span><span style="color:#82AAFF;">ToolbarItem</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">                    </span><span style="color:#82AAFF;">Button</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">action</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> addItem</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">                        </span><span style="color:#82AAFF;">Label</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Add Item</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">, </span><span style="color:#82AAFF;">systemImage</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">plus</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">                    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#BABED8;">                </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#BABED8;">            </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">detail</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">            </span><span style="color:#82AAFF;">Text</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Select an item</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F78C6C;">private</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">func</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">addItem</span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#82AAFF;">withAnimation</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">            </span><span style="color:#F78C6C;">let</span><span style="color:#BABED8;"> newItem </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">Item</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">timestamp</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">Date</span><span style="color:#89DDFF;">())</span></span>
<span class="line"><span style="color:#BABED8;">            modelContext.</span><span style="color:#82AAFF;">insert</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">newItem</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#F78C6C;">private</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">func</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">deleteItems</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;font-style:italic;">offsets</span><span style="color:#BABED8;">: IndexSet</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#82AAFF;">withAnimation</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">            </span><span style="color:#89DDFF;font-style:italic;">for</span><span style="color:#BABED8;"> index </span><span style="color:#89DDFF;font-style:italic;">in</span><span style="color:#BABED8;"> offsets </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">                modelContext.</span><span style="color:#82AAFF;">delete</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">items</span><span style="color:#89DDFF;">[</span><span style="color:#BABED8;">index</span><span style="color:#89DDFF;">])</span></span>
<span class="line"><span style="color:#BABED8;">            </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">#Preview</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#82AAFF;">ContentView</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#BABED8;">        .</span><span style="color:#82AAFF;">modelContainer</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">for</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> Item.</span><span style="color:#F78C6C;">self</span><span style="color:#BABED8;">, </span><span style="color:#82AAFF;">inMemory</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div>`,5),e=[o];function t(c,r,D,F,y,B){return n(),a("div",null,e)}const E=s(p,[["render",t]]);export{i as __pageData,E as default};
