# Vue 模板的本质

## 介绍

接下来的内容，可以让你对 vue 对模板彻彻底底的毕业，一旦毕业，你就再也不需要去学习它了。

## 定义

模板的本质就是一个语法糖。实际上在运行时它是没有的，运行的而是另外的东西。

## 函数渲染

在 vue3 中我们可以直接在 setup 函数中返回一个渲染函数，渲染函数的作用就是在渲染，那么什么是渲染呢？就是封装一些虚拟节点，再去递归遍历这个节点，通过创建元素形成 DOM 树。

vue3 中使用 [h](https://cn.vuejs.org/api/render-function.html#h) 函数来创建虚拟节点。

```vue
<script lang="ts">
  import { h } from 'vue'

  export default {
    setup() {
      return () => {
        const list = []

        for (let i = 0; i < 100; i++) {
          list.push(h('li', null, i))
        }

        return h('ul', null, list)
      }
    }
  }
</script>
```

也就是在浏览器里面真正运行的就是这个渲染函数，因为它描述了这个组件的渲染过程，渲染的结果就是页面的结构。而模板就是这一切的语法糖而已。

因为我们自己手写渲染函数比较麻烦，所以就有了模板一样的语法糖，像是 html 一样，就会比较高效快捷。

像是这样：

```vue
<template>
  <ul>
    <li v-for="i in 100">{{ i }}</li>
  </ul>
</template>
```
